<!DOCTYPE html>
<head>
    <title>Cybersecurity Club at UVU</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../tailwind-files/output.css"> <!-- Links Tailwind stylesheet to this sheet on top of OG css sheet -->
    <link rel="icon" type="image/x-icon" href="../images/cscuvu-logo-favi.png">
</head>
<body class="bg-black w-[960px] mx-auto text-white">

    <div id="TOP" class="grid grid-cols-3 gap-2">
        <div class="h-auto flex items-center justify-center font-bold text-4xl rounded-lg row-span-2">
            <a href="../index.html">
                <img src="../project-files/image-files/cscuvu-logo.png" alt="CSCUVU Club Logo">
            </a>
        </div>
        
        <div class="h-auto flex items-center justify-center font-bold rounded-lg col-span-2 mt-auto">
            <h1 class="font-arcade text-5xl text-right pr-1">Cybersecurity Club at UVU</h1>
        </div> 

        <div class="h-fit flex justify-end gap-9 text-lg rounded-lg col-span-2 font-arcade mb-auto">
            <a href="../project-files/about.html">About</a>
            <a href="../project-files/meetings.html">Meetings</a>
            <a href="../project-files/members.html">Members</a>
            <a class="pr-[7.5px]" href="../project-files/contact.html">Contact</a>
        </div>       
    </div>

    <hr id="LINE-SEPERATOR-THING" class="border-[1.4px] w-[95%] mx-auto mb-32 rounded-full opacity-25"></hr>
    
    <p class="font-arcade text-5xl text-center pb-16 text-[#005ee6]">Upcoming Meetings</p>

    <div id="upcoming-meetings"></div>

    <hr id="LINE-SEPERATOR-THING" class="border-[1.4px] w-[95%] mx-auto mt-32 mb-32 rounded-full opacity-25"></hr>

    <p class="font-arcade text-5xl text-center pb-16 text-[#005ee6]">Past Meetings</p>

    <div id="past-meetings"></div>
    
    <script>
    // Function to generate the upcoming event blocks/elements that will appear in the above code
    function generateUpcomingEventBlocks(jsonData) {
        const eventContainer = document.querySelector('#upcoming-meetings');
        
        jsonData.forEach(event => {
            const eventBlock = document.createElement('div');
            eventBlock.className = 'grid grid-cols-2 gap-[15px] mt-6';

            eventBlock.innerHTML = `
            <div id="LEFT-SIDE" class="col-start-1 col-end-2 bg-csc-gray bg-opacity-[0.06] rounded-lg p-3">

                <div id="date" class="text-right text-[#23d18b] font-tommy text-2xl">
                    ${event.date}
                </div>

                <div id="title" class="text-right font-tommy text-3xl mb-[6px]">
                    ${event.title}
                </div>

                <div id="image">
                    <img class="w-full h-full object-hidden rounded-md" src="${event.image}">
                </div>

            </div>

            <div id="RIGHT-SIDE" class="col-start-2 col-end-3 rounded-lg p-3">

                <div id="description" class="font-tommy text-2xl text-right">
                    ${event.description}
                </div>
            </div>
            `;
            
            eventContainer.appendChild(eventBlock);
        });
    }

    fetch('../events.json')
    .then(response => response.json())
    .then(data => {
        // Generate blocks for upcoming events
        generateUpcomingEventBlocks(data.upcoming_events);
    })
    .catch(error => console.error('Error fetching JSON:', error)); 

    </script>

    <script>
    // Function to generate the past event blocks/elements that will appear in the above code
    function generatePastEventBlocks(jsonData) {
        const eventContainer = document.querySelector('#past-meetings');
        
        jsonData.forEach(event => {
            const eventBlock = document.createElement('div');
            eventBlock.className = 'grid grid-cols-2 gap-[15px] mt-6';

            eventBlock.innerHTML = `
            <div id="LEFT-SIDE" class="col-start-1 col-end-2 bg-csc-gray bg-opacity-[0.06] rounded-lg p-3">

                <div id="date" class="text-right text-[#23d18b] font-tommy text-2xl">
                    ${event.date}
                </div>

                <div id="title" class="text-right font-tommy text-3xl mb-[6px]">
                    ${event.title}
                </div>

                <div id="image">
                    <img class="w-full h-full object-hidden rounded-md" src="${event.image}">
                </div>

            </div>

            <div id="RIGHT-SIDE" class="col-start-2 col-end-3 rounded-lg p-3">

                <div id="description" class="font-tommy text-2xl text-right">
                    ${event.description}
                </div>
            </div>
            `;
            
            eventContainer.appendChild(eventBlock);
        });
    }

    fetch('../events.json')
    .then(response => response.json())
    .then(data => {
        // Generate blocks for past events
        generatePastEventBlocks(data.past_events);
    })
    .catch(error => console.error('Error fetching JSON:', error)); 

    </script>

    <hr id="LINE-SEPERATOR-THING" class="border-[1.4px] w-[95%] mx-auto mt-32 mb-32 rounded-full opacity-25"></hr>

</body>
</html>                   